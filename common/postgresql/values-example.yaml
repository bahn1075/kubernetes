# Example custom values for PostgreSQL deployment
# Copy this file and modify according to your needs

# PostgreSQL Database Configuration
environmentVariables:
  POSTGRES_USER: myapp
  POSTGRES_PASSWORD: "MySecurePassword123!"
  POSTGRES_DB: myappdb
  PGDATA: /var/lib/postgresql/data/pgdata

# OCI FSS Configuration
# Replace with your actual OCI FSS Export information
persistence:
  enabled: true
  size: 20Gi
  ociFss:
    enabled: true
    # Format: ocid1.export.oc1.<region>.<unique_id>:<mount_target_ip>:/<export_path>
    volumeHandle: "ocid1.export.oc1.ap_chuncheon_1.aaaaaa4np2weim52pfxhsllqojxwiotboawwg2dvnzrwqzlpnywtcllbmqwtcaaa:10.0.10.194:/oke_fss/myapp_postgres"

# Service Configuration
service:
  type: LoadBalancer
  port: 5432
  annotations:
    # OCI Load Balancer annotations (optional)
    service.beta.kubernetes.io/oci-load-balancer-shape: "flexible"
    service.beta.kubernetes.io/oci-load-balancer-shape-flex-min: "10"
    service.beta.kubernetes.io/oci-load-balancer-shape-flex-max: "100"

# Ingress Configuration
ingress:
  enabled: false  # Set to true if you want to use Ingress
  className: "nginx"
  annotations:
    cert-manager.io/cluster-issuer: letsencrypt-prod
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
  hosts:
    - host: postgres.mycompany.com
      paths:
        - path: /
          pathType: Prefix
  tls:
    - secretName: postgres-tls
      hosts:
        - postgres.mycompany.com

# Resource Limits (adjust based on your workload)
resources:
  requests:
    cpu: 100m
    memory: 256Mi
  limits:
    cpu: 500m
    memory: 512Mi
