apiVersion: v1
kind: ConfigMap
metadata:
  name: airecipe-config
data:
  # ThinQ AI Proxy API 키 (필수)
  TAI_API_KEY: your-x-api-key-here

  # ThinQ AI 엔드포인트 (선택, 기본값 사용 가능)
  TAI_CHAT_ENDPOINT: https://kic-st-tai.lgthinq.com/hlp/v1/tai/proxy/chat
  TAI_IMAGE_ENDPOINT: https://kic-st-tai.lgthinq.com/hlp/v1/tai/proxy/image/generation

  # PostgreSQL 연결 URL
  DATABASE_URL: postgresql+asyncpg://postgres:postgres123@postgres.phoenix.svc.cluster.local:5432/postgresdb

  # Kafka 브로커 주소
  KAFKA_BOOTSTRAP_SERVERS: b-1.mskan2tcndev.80j0tu.c4.kafka.ap-northeast-2.amazonaws.com:9094,b-2.mskan2tcndev.80j0tu.c4.kafka.ap-northeast-2.amazonaws.com:9094

  # Kafka 토픽명
  KAFKA_TOPIC: kic.st.airecipe.request

  # Consumer 그룹 ID
  KAFKA_GROUP_ID: ai_recipe_consumer_group

  # SSL 사용 여부 (MSK 연결 시 true)
  KAFKA_USE_SSL: "true"

  # Phoenix OTEL 엔드포인트 (설정 시 LLM 트레이싱 활성화)
  PHOENIX_ENDPOINT: http://phoenix.phoenix.svc.cluster.local:4317
  # PHOENIX_COLLECTOR_ENDPOINT: http://phoenix.phoenix.svc.cluster.local

  # Phoenix 트레이싱에서 Base64 이미지 최대 길이
  OPENINFERENCE_BASE64_IMAGE_MAX_LENGTH: "1000000"

## 기존 값
  OPENAI_PROXY_HOST: https://kic-st-tai.lgthinq.com
  OPENAI_API_PATH: /hlp/v1/tai/proxy/chat
  OPENAI_CHAT_PROXY_PATH: /hlp/v1/tai/proxy/chat
  OPENAI_IMAGE_PROXY_PATH: /hlp/v1/tai/proxy/image/generation 
  OPENAI_API_KEY: F276C80C-F931-4DD2-8F08-871B4FC1B3AC
  PHOENIX_COLLECTOR_ENDPOINT: http://phoenix.phoenix.svc.cluster.local
